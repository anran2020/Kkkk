/**
******************************************************************************
* 文件:ntp_w5100_bus_driver.c
* 作者:   zzx
* 版本:   V0.01
* 日期:     2014-12-01
* 内容简介:
*
******************************************************************************
*  					文件历史
*
* 版本号-----  日期   -----   作者    ------   说明
* v0.1                       2014-12-01          zzx                 创建该文件
*
*
*
******************************************************************************
**/

//----------------------------------------------------------------------------
//文件条件编译
//----------------------------------------------------------------------------

#if (1)


//----------------------------------------------------------------------------
//includes
//----------------------------------------------------------------------------  
#include "mlos_ltimer.h"
#include "mlos_task.h"
#include "ntp_usocket.h"
#include"ntp_w5100_def.h"
#include "ntp_def.h"

#include "hal_data.h"
#include"common_data.h"
#include "base_addresses.h"
#include "renesas.h"

//----------------------------------------------------------------------------
//  defines 
//----------------------------------------------------------------------------


//总线寄存器
R_BUS_Type * pBusRegs=R_BUS;

//-----------------------------------------------------------------------------
// 函数名：
//-----------------------------------------------------------------------------
//
// 返回值 : void
// 参数   :  void
//
//
//
//功能描述：
//
//
//修改履历：
//1.zzx ：  2014-12-01  ：创建函数
//
//-----------------------------------------------------------------------------
void w5100_reset_pin_l(void)
{
	R_IOPORT_PinWrite (&g_ioport_ctrl, BSP_IO_PORT_05_PIN_06, BSP_IO_LEVEL_LOW);

}

//-----------------------------------------------------------------------------
// 函数名：
//-----------------------------------------------------------------------------
//
// 返回值 : void
// 参数   :  void
//
//
//
//功能描述：
//
//
//修改履历：
//1.zzx ：  2014-12-01  ：创建函数
//
//-----------------------------------------------------------------------------
void w5100_reset_pin_h(void)
{
	R_IOPORT_PinWrite (&g_ioport_ctrl, BSP_IO_PORT_05_PIN_06, BSP_IO_LEVEL_HIGH);

}

//-----------------------------------------------------------------------------
// 函数名：
//-----------------------------------------------------------------------------
//
// 返回值 : void
// 参数   :  void
//
//
//
//功能描述：
//
//
//修改履历：
//1.zzx ：  2014-12-01  ：创建函数
//
//-----------------------------------------------------------------------------
void w5100_mcu_init(void)
{

	//初始化总线
	pBusRegs->CSa[1].MOD=pBusRegs->CSa[0].MOD;
	pBusRegs->CSa[1].WCR1=pBusRegs->CSa[0].WCR1;
	pBusRegs->CSa[1].WCR2=pBusRegs->CSa[0].WCR2;
	pBusRegs->CSb[1].CR=pBusRegs->CSb[0].CR;
	pBusRegs->CSb[1].REC=pBusRegs->CSb[0].REC;
	
	//pBusRegs->CSRECEN=pBusRegs->CSRECEN;

	pBusRegs->CSa[1].WCR1_b.CSWWAIT=14;
	pBusRegs->CSa[1].WCR1_b.CSRWAIT=14;

	pBusRegs->CSRECEN_b.RCVEN1=0;
}

//----------------------------------------------------------------------------
//							end  of file
//----------------------------------------------------------------------------
#endif

